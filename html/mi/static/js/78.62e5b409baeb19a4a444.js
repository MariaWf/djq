webpackJsonp([78],{"/4Z9":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,"before-close":e.cancel,size:"full"}},[a("el-form",{ref:"detailForm",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.detail,rules:e.detailRules,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"状态"},model:{value:e.detail.status,callback:function(t){e.detail.status=t},expression:"detail.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[a("el-input",{model:{value:e.detail.name,callback:function(t){e.detail.name=t},expression:"detail.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限编码",prop:"code"}},[a("el-input",{model:{value:e.detail.code,callback:function(t){e.detail.code=t},expression:"detail.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.detail.description,callback:function(t){e.detail.description=t},expression:"detail.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)},staticRenderFns:[]}},kQx8:function(e,t,a){var i=a("VU/8")(a("spU/"),a("/4Z9"),null,null,null);e.exports=i.exports},"spU/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("//Fk"),l=a.n(i);t.default={props:{dialogStatus:{type:String,default:"create"},dialogFormVisible:{type:Boolean,default:!1},statusOptions:{type:Array,default:function(){return[]}},detail:{type:Object,default:function(){return{_id:"",name:"",description:"",status:"1",createdAt:"",updatedAt:""}}}},data:function(){return{textMap:{update:"编辑",create:"创建"},detailRules:{name:[{required:!0,message:"权限名称不能为空",trigger:"blur"},{min:2,max:10,message:"权限名称长度2到10位",trigger:"blur"}],code:[{required:!0,message:"权限名称不能为空",trigger:"blur"},{validator:function(e,t,a){return/^[0-9a-zA-Z]+$/.test(t)?a():a(new Error("权限编码只能有数字和字母组成"))},trigger:"blur"}]}}},methods:{validate:function(){var e=this;return new l.a(function(t,a){e.$refs.detailForm.validate(function(e){e?t():a()})})},create:function(){var e=this,t=this;t.validate().then(function(){t.$store.dispatch("CreatePermission",t.detail).then(function(){e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),e.$emit("submit")},function(){})},function(){})},update:function(){var e=this,t=this;t.validate().then(function(){t.$store.dispatch("UpdatePermissionDetail",t.detail).then(function(){t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3}),e.$emit("submit")},function(){})},function(){})},cancel:function(){this.$emit("cancel")}},watch:{dialogFormVisible:function(){this.$refs.detailForm&&this.$refs.detailForm.resetFields()}}}}});